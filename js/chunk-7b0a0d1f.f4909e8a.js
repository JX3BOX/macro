(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b0a0d1f"],{"1d92":function(e){e.exports=JSON.parse('{"傲血战意":[{"name":"劲风单体","desc":"PVE","sq":"2,1,1,1,2,2,2,4,4,3,3,1"},{"name":"驰骋单体","desc":"PVE","sq":"2,1,1,1,3,2,2,4,4,3,3,1"}],"北傲诀":[{"name":"砺锋七刀","desc":"PVE","sq":"3,1,2,2,1,1,3,1,1,1,3,1"},{"name":"逐鹿七刀","desc":"PVE","sq":"3,1,2,2,1,3,3,1,1,1,3,1"}],"冰心诀":[{"name":"广陵月流","desc":"PVE","sq":"2,2,2,1,1,4,1,1,1,1,4,1"}],"补天诀":[{"name":"团队刷血","desc":"PVE","sq":"1,2,2,2,3,4,2,4,4,3,1,4"}],"毒经":[{"name":"浪客行","desc":"PVE","sq":"1,2,3,1,3,1,1,3,2,4,1,2"}],"分山劲":[{"name":"浪客行","desc":"PVE","sq":"1,3,1,1,3,4,2,1,2,1,1,1"},{"name":"割裂斩绝绝","desc":"PVE","sq":"1,3,1,4,1,1,1,1,1,1,1,1"},{"name":"减伤斩绝绝","desc":"PVE","sq":"1,3,1,4,1,3,1,1,1,1,1,1"},{"name":"打断斩绝绝","desc":"PVE","sq":"1,3,1,4,1,4,1,1,1,1,1,1"},{"name":"吃鸡","desc":"PVP","sq":"1,3,1,4,3,1,2,1,1,2,4,4"},{"name":"竞技场组排","desc":"PVP","sq":"1,3,1,4,4,2,2,1,1,2,1,4"}],"焚影圣诀":[{"name":"竞技场带奶","desc":"PVP","sq":"2,2,1,3,1,1,4,1,1,1,4,4"},{"name":"竞技场花毒","desc":"PVP","sq":"2,2,1,3,1,1,4,4,1,1,4,4"},{"name":"竞技场气蓬","desc":"PVP","sq":"2,2,1,3,2,1,4,4,4,1,4,4"},{"name":"驱夷单体","desc":"PVE","sq":"2,2,3,1,1,1,2,1,1,3,4,2"},{"name":"驱夷群体","desc":"PVE","sq":"2,3,3,1,1,1,2,4,1,3,4,2"},{"name":"苟鸡","desc":"PVP","sq":"3,2,1,3,4,2,3,3,4,1,4,4"},{"name":"浪客行","desc":"PVE","sq":"3,2,3,1,1,1,2,1,1,3,4,2"},{"name":"吃鸡组排","desc":"PVP","sq":"3,2,3,3,3,2,2,1,4,1,4,4"}],"花间游":[{"name":"副本常用","desc":"PVE","sq":"2,1,3,2,1,1,2,2,1,1,1,1"}],"惊羽诀":[{"name":"百里追魂流","desc":"PVE","sq":"2,2,2,2,1,4,3,2,2,1,1,4"}],"离经易道":[{"name":"寒遥刷团流","desc":"PVE","sq":"1,1,2,3,4,1,1,2,3,1,1,4"},{"name":"寒砚刷团流","desc":"PVE","sq":"1,1,2,3,4,1,1,2,3,1,2,4"},{"name":"南柯保T","desc":"PVE","sq":"1,2,1,3,3,1,1,2,1,1,1,4"},{"name":"五二刷团流","desc":"PVE","sq":"1,2,2,3,4,1,1,2,1,1,2,4"},{"name":"竞技场抗压","desc":"PVP","sq":"2,1,1,2,3,4,2,3,4,3,3,4"}],"凌海诀":[{"name":"吃鸡","desc":"PVP","sq":"1,2,2,2,1,3,2,3,3,1,3,1"},{"name":"副本常用","desc":"PVE","sq":"3,2,1,1,3,1,4,1,1,1,1,2"},{"name":"吃鸡组排","desc":"PVP","sq":"3,2,2,2,4,3,3,3,1,2,3,4"}],"明尊琉璃体":[{"name":"刷朝奇穴","desc":"PVE","sq":"2,1,2,4,3,4,4,3,4,1,1,1"},{"name":"正常明尊","desc":"PVE","sq":"2,2,1,4,1,4,1,3,4,1,1,4"},{"name":"常规主T","desc":"PVE","sq":"2,2,1,4,2,4,1,3,4,1,1,4"},{"name":"闪避流","desc":"PVE","sq":"2,2,2,4,2,3,1,2,3,3,4,4"},{"name":"群拉仇恨","desc":"PVE","sq":"2,2,2,4,3,3,1,3,4,1,1,4"},{"name":"仇恨群拉","desc":"PVE","sq":"2,2,4,4,2,3,1,3,4,4,3,1"}],"莫问":[{"name":"单体大徵","desc":"PVE","sq":"2,1,1,1,1,1,1,3,4,4,1,2"},{"name":"高山鹿鸣","desc":"PVE","sq":"2,3,3,3,2,1,4,3,2,4,2,1"},{"name":"清绝剑宫","desc":"PVE","sq":"2,3,4,2,4,4,3,3,1,4,1,1"}],"太虚剑意":[{"name":"副本常用","desc":"PVE","sq":"2,2,4,1,2,3,3,1,1,1,1,3"}],"天罗诡道":[{"name":"神机千算流","desc":"PVE","sq":"1,2,1,2,3,1,4,1,2,1,1,1"},{"name":"聚精凝神流","desc":"PVE","sq":"1,2,1,2,3,2,4,1,2,1,1,1"},{"name":"攻防团战","desc":"PVP","sq":"1,2,4,2,3,1,4,1,2,1,1,4"},{"name":"竞技场单体","desc":"PVP","sq":"1,3,4,2,2,2,1,2,2,4,1,1"},{"name":"抗压兼具","desc":"PVP","sq":"1,3,4,3,2,2,4,1,2,4,2,4"},{"name":"吃鸡奇穴","desc":"PVP","sq":"1,3,4,3,2,4,2,1,3,4,2,4"},{"name":"雷甲流","desc":"PVE","sq":"2,2,1,2,3,2,4,1,2,1,1,1"},{"name":"暴雨雷甲流","desc":"PVE","sq":"2,2,3,2,3,2,4,1,2,1,1,1"},{"name":"千秋群怪流","desc":"PVE","sq":"2,2,3,2,3,2,4,1,2,1,1,4"}],"铁骨衣":[{"name":"万能单刷","desc":"PVE","sq":"2,1,4,3,4,1,1,4,1,4,2,1"},{"name":"万能T本","desc":"PVE","sq":"2,2,1,3,4,3,1,1,1,4,2,1"},{"name":"高内防流","desc":"PVE","sq":"2,3,3,3,1,3,1,1,3,1,2,4"}],"铁牢律":[{"name":"副本群仇","desc":"PVE","sq":"3,1,2,3,1,4,4,4,3,2,4,4"},{"name":"铁牢主T","desc":"PVE","sq":"3,1,3,3,2,4,4,4,2,4,4,4"}],"问水诀":[{"name":"景行映波流","desc":"PVE","sq":"2,2,1,1,1,3,1,4,3,2,1,4"},{"name":"造化碧归流","desc":"PVE","sq":"2,2,1,1,4,3,1,4,3,1,1,4"},{"name":"造化残雪流","desc":"PVE","sq":"2,2,1,1,4,3,1,4,3,2,1,4"}],"洗髓经":[{"name":"大明主T","desc":"PVE","sq":"2,1,1,4,2,4,1,1,1,4,4,4"},{"name":"取法主T","desc":"PVE","sq":"2,3,1,4,2,4,1,1,1,4,4,4"},{"name":"天龙音回血","desc":"PVE","sq":"2,3,1,4,2,4,3,1,1,4,4,4"},{"name":"打断辅助","desc":"PVE","sq":"2,3,4,4,2,4,3,1,1,3,4,4"}],"相知":[{"name":"洞天血歌流","desc":"PVE","sq":"2,2,3,3,1,1,1,3,2,1,1,2"},{"name":"枕流盾歌流","desc":"PVE","sq":"2,3,1,4,2,1,3,3,2,4,1,3"},{"name":"高山血歌流","desc":"PVE","sq":"3,2,1,3,1,1,1,3,2,1,1,1"},{"name":"梅花盾歌流","desc":"PVE","sq":"3,2,1,3,4,4,3,2,2,4,1,3"},{"name":"争簇血歌流","desc":"PVE","sq":"3,2,2,3,1,1,1,3,2,1,1,2"},{"name":"谪仙盾歌流","desc":"PVE","sq":"3,2,2,4,1,4,3,2,2,4,1,3"}],"笑尘诀":[{"name":"坚冰群怪流","desc":"PVE","sq":"2,1,3,2,2,4,1,2,2,2,1,1"},{"name":"双元一掌流","desc":"PVE","sq":"2,2,3,2,2,4,1,2,2,2,1,1"},{"name":"追远回蓝流","desc":"PVE","sq":"2,3,3,2,2,4,1,2,2,2,1,1"},{"name":"竞技场常用","desc":"PVP","sq":"3,2,1,4,1,4,1,2,2,4,4,3"}],"易筋经":[{"name":"涅果六识流","desc":"PVE","sq":"1,1,1,1,1,4,1,3,2,3,3,4"},{"name":"幻身明澈流","desc":"PVE","sq":"1,2,2,1,1,2,1,3,2,3,1,4"},{"name":"清心非梵流","desc":"PVP","sq":"1,3,4,4,4,1,3,4,3,1,2,1"},{"name":"普心群体","desc":"PVE","sq":"2,1,3,3,2,4,3,3,2,1,3,4"},{"name":"静色明王身","desc":"PVP","sq":"2,3,4,4,3,1,3,1,3,1,2,4"},{"name":"明澈试炼","desc":"PVE","sq":"3,1,1,1,1,4,1,3,2,2,1,4"},{"name":"佛果试炼","desc":"PVE","sq":"3,1,1,1,1,4,1,3,2,2,3,4"},{"name":"明法六识流","desc":"PVE","sq":"3,1,1,1,1,4,1,3,2,3,3,4"},{"name":"明法幻身流","desc":"PVE","sq":"3,2,1,1,1,4,1,3,2,3,3,4"}],"隐龙诀":[{"name":"归鸿北阙流","desc":"PVE","sq":"1,3,3,1,2,1,1,1,1,4,3,4"},{"name":"折意重霄流","desc":"PVE","sq":"1,3,4,1,1,1,1,1,1,4,3,4"},{"name":"折意北阙流","desc":"PVE","sq":"1,3,4,1,2,1,1,1,1,4,3,4"}],"云裳心经":[{"name":"香蕊刷团流","desc":"PVE","sq":"1,1,2,2,1,2,1,2,1,1,2,4"},{"name":"回蓝刷团流","desc":"PVE","sq":"3,1,2,2,1,2,1,2,1,1,2,4"},{"name":"单体刷血","desc":"PVE","sq":"3,2,1,2,1,1,2,2,1,1,2,4"}],"紫霞功":[{"name":"自化流","desc":"PVE","sq":"2,2,3,2,2,2,3,1,2,1,4,2"},{"name":"吃鸡抗揍","desc":"PVP","sq":"2,3,1,4,4,3,4,2,3,2,4,3"}]}')},"31de":function(e,s,t){"use strict";var a=t("2ef0"),i=t.n(a),n=t("1157"),c=t.n(n),o=t("65c2");class l{constructor(e){return this._default={version:"v20200522",container:".qx-container",xf:"其它",sq:"1,1,1,1,1,1,1,1,1,1,1,1",editable:!1},this._qixue_url=o["__dataPath"]+"talent/",this._img_path=o["__iconPath"]+"icon/",this._total_levels=12,this._item_attr_list=["icon","name","desc","order","pos","is_skill","meta","extend"],this._data={},this.isQQBrowser=window.navigator.userAgent.includes("QQBrowser"),e||(e=this._default),this.txt=new Array(this._total_levels),this.code={version:"",xf:"",sq:""},this.overview=[],this._init(e)}_init(e){return this._structureViewBox(e),this._build(e)}_getTalentData(e){return new Promise((s,t)=>{c.a.ajax({url:this._qixue_url+e.version+".json",dataType:"json",success:function(e){s(e)},error:function(e){t(e)}})})}async _build(e){return void 0==e?e=this._default:(e=i.a.extend(this._default,e),e=this._checkParam(e)),e.version!=this.version&&(this._data=await this._getTalentData(e)),this._setConfig(e),this._renderViewBox(),this.editable&&this._buildEditBox(),this}_checkParam(e){let s=this._checkParamType(e),t=this._checkParamsValue(s);return t}_checkParamType(e){let s={};if(i.a.isObject(e)&&(s=e),i.a.isString(e))if(e.includes("{"))try{s=JSON.parse(e)}catch(t){console.error("[checkParamType]无法解析字符串为合适对象")}else if(e.includes(","))try{let t=e.split(",");s.xf=t[0],s.sq=t[1].split("").join(",");let a=function(e){return"true"==e||"1"==e||"false"!=e&&"0"!=e&&void 0};s.editable=a(t[2])}catch(t){console.error("[checkParamType]无法解析字符串参数")}else console.error("[checkParamType]无法解析参数");return s}_checkParamsValue(e){let s=e;return e.sq&&(s.sq=this._checkParamSQ(e.sq)),e.editable&&(s.editable=this._checkParamEditable(e.editable)),s}_checkParamEditable(e){let s=Boolean(e);return s}_checkParamSQ(e){let s=e.split(",");if(s.length!=this._total_levels)throw`[checkParams]:奇穴应为${this._total_levels}重,请检查`;return e}_setConfig(e){this.version=e.version,this.xf=e.xf,this.map=this._data[e.xf],this.sq=e.sq.split(","),this.editable=e.editable,this.code={version:e.version,xf:e.xf,sq:e.sq},this.overview=this._buildTalentOutputData(this.sq,this.map)}_buildTalentOutputData(e,s){let t=[];return e.forEach((e,a)=>{let i=s[a+1][e];t.push({id:~~i.id,icon:~~i.icon,name:i.name})}),t}_structureViewBox(e){if(void 0==e.container)this.container=c()(this._default.container);else{if(0==c()(e.container).length)throw"[checkParams]:指定容器不存在,请检查";this.container=c()(e.container)}this.container.append(`\n            <div class="w-qixue-box ${this.isQQBrowser&&"isQQBrowser"}">\n                <div class="w-qixue-xf">奇穴</div>\n                <ul class="w-qixue-clist"></ul>\n                <div class="w-qixue-obox"></div>\n            </div>\n        `),this._box=this.container.children(".w-qixue-box"),this._xfbox=this._box.children(".w-qixue-xf"),this._clist=this._box.children(".w-qixue-clist"),this._obox=this._box.children(".w-qixue-obox");let s='\n            <li class="w-qixue-clist-item">\n                <span class="u-pic"><img src="" alt=""/></span>\n                <span class="u-title"></span>\n            </li>\n        '.repeat(this._total_levels);this._clist.append(s),this._citems=this._clist.children(".w-qixue-clist-item")}_renderViewBox(){let e=this,s=this._citems;this._xfbox.text(this.xf),c.a.each(e.sq,(function(t,a){let i=e.map[t+1],n=i[a];c.a.each(e._item_attr_list,(function(e,a){s.eq(t).attr("data-"+a,n[a])}));let o=e._img_path+n["icon"]+".png";s.eq(t).find("img").attr("src",""+o),s.eq(t).find("img").attr("alt",n["name"]),s.eq(t).find(".u-title").text(n["name"]),parseInt(n["is_skill"])?s.eq(t).addClass("w-qixue-is_skill"):s.eq(t).removeClass("w-qixue-is_skill"),e.txt[t]=n["name"]})),this._loadMetaEvent(this._clist)}_buildEditBox(){this._box.addClass("w-qixue-editable");let e='\n            <ul class="w-qixue-olist"></ul>\n        '.repeat(this._total_levels);this._obox.html(e),this._olist=this._obox.children(".w-qixue-olist");let s=this;c.a.each(s.map,(function(e,t){c.a.each(t,(function(t,a){s._olist.eq(e-1).append(`\n                    <li class="w-qixue-olist-item" \n                        data-id="${a["id"]}" \n                        data-icon="${a["icon"]}" \n                        data-name="${a["name"]}"\n                        data-desc="${a["desc"]}"\n                        data-order="${a["order"]}"\n                        data-pos="${a["pos"]}"\n                        data-is_skill="${a["is_skill"]}"\n                        data-meta="${a["meta"]}"\n                        data-extend="${a["extend"]}"\n                    >\n                        <span class="u-pic"><img src="${s._img_path+a["icon"]}.png" alt="${a["name"]}"/></span>\n                        <span class="u-title">${a["name"]}</span>\n                    </li>\n                `)}))})),this._olist.find(".w-qixue-olist-item").each((function(e,s){parseInt(c()(this).attr("data-is_skill"))&&c()(this).addClass("w-qixue-is_skill")})),this._bindEvent()}_bindEvent(){this._foldListEvent(),this._loadMetaEvent(this._olist),this._changeEvent()}_foldListEvent(){let e=this;this._clist.off("click","li").on("click","li",(function(s){s.stopPropagation();let t=c()(this).index();c()(this).siblings("li").removeClass("on"),c()(this).toggleClass("on"),e._clist.find(".on").length?e._obox.addClass("on"):e._obox.removeClass("on"),e._olist.removeClass("on"),c()(this).hasClass("on")&&e._olist.eq(t).addClass("on")})),c()("body").on("click",(function(){e._clist.children("li").removeClass("on"),e._obox.removeClass("on"),e._olist.removeClass("on")}))}_loadMetaEvent(e){c()(e).on("mouseenter","li",(function(){let e=c()(this).attr("data-name"),s=c()(this).attr("data-meta"),t=Boolean(parseInt(c()(this).attr("data-is_skill"))),a=t?"主动招式":"被动招式",i=c()(this).attr("data-desc"),n=c()(this).attr("data-extend"),o=0==c()(this).children(".w-qixue-item-pop").length,l=`<b class="u-name">${e}</b>`;if(l+=`<b class="u-skill">${a}</b>`,t&&"null"!=s&&void 0!=s&&(l+=`<em class="u-meta">${s}</em>`),l+=`<span class="u-desc">${i}</span>`,t&&"null"!=n&&void 0!=s&&(l+=`<em class="u-extend">${n}</em>`),o){let e='<span class="w-qixue-item-pop">',s="</span>";c()(this).append(e+l+s)}else c()(this).children(".w-qixue-item-pop").html(l)})),c()(e).on("mouseenter","li",(function(){c()(this).children(".w-qixue-item-pop").addClass("on")})),c()(e).on("mouseleave","li",(function(){c()(this).children(".w-qixue-item-pop").removeClass("on")}))}_changeEvent(){let e=this;this._olist.on("click","li",(function(s){let t=c()(this),a=t.parent("ul").index(),i=e._citems.eq(a);c.a.each(e._item_attr_list,(function(e,s){i.attr("data-"+s,t.attr("data-"+s))})),i.find("img").attr("src",e._img_path+t.attr("data-icon")+".png"),i.find("img").attr("alt",t.attr("data-name")),i.find(".u-title").text(t.attr("data-name")),parseInt(t.attr("data-is_skill"))?i.addClass("w-qixue-is_skill"):i.removeClass("w-qixue-is_skill"),e.sq[a]=t.attr("data-pos"),e.txt[a]=t.attr("data-name"),e.code.sq=e.sq.toString(),e.overview[a]={id:~~t.attr("data-id"),icon:~~t.attr("data-icon"),name:t.attr("data-name")},c()(document).trigger("JX3_QIXUE_Change",e)}))}load(e){if(void 0==e)return;let s={};return s=this._checkParam(e),this._build(s).then(e=>(c()(document).trigger("JX3_QIXUE_Change",this),e))}}s["a"]=l},"73b3":function(e,s,t){},"8f85":function(e,s,t){"use strict";t.r(s);t("b0c0");var a=function(){var e=this,s=e._self._c;return s("app-layout",{attrs:{slug:"talent"}},[s("div",{staticClass:"m-talent"},[s("div",{staticClass:"m-talent-header"},[s("h1",{staticClass:"m-talent-title"},[e._v("奇穴模拟器")]),s("div",{staticClass:"m-talent-panel"},[s("div",{staticClass:"m-talent-version"},[s("span",{staticClass:"u-label"},[e._v("选择版本")]),s("el-select",{attrs:{placeholder:"请选择游戏版本"},on:{change:e.reload},model:{value:e.version,callback:function(s){e.version=s},expression:"version"}},e._l(e.versions,(function(e){return s("el-option",{key:e.version,attrs:{label:e.name,value:e.version}})})),1)],1),e.isLogin?s("div",{staticClass:"u-toolbar"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-setting",size:"small"},on:{click:function(s){e.drawer=!0}}},[e._v("我的预设")])],1):e._e()])]),s("div",{staticClass:"m-talent-wrapper"},[s("h2",{staticClass:"m-talent-subtitle"},[e._v("选择心法")]),s("div",{staticClass:"m-talent-xf"},e._l(e.xfMaps,(function(t,a){return s("el-radio",{key:a,attrs:{label:t.name},on:{change:e.reload},model:{value:e.xf,callback:function(s){e.xf=s},expression:"xf"}},[s("img",{staticClass:"u-pic",attrs:{src:e.xficon(t.id),alt:t.name}}),s("span",{staticClass:"u-txt"},[e._v(e._s(t.name))])])})),1),s("h2",{staticClass:"m-talent-subtitle"},[e._v("配置奇穴")]),s("div",{staticClass:"qx-container"}),s("h2",{staticClass:"m-talent-subtitle"},[e._v("奇穴编码")]),s("div",{staticClass:"m-talent-code"},[s("el-input",{attrs:{placeholder:"粘贴编码亦可自动解析奇穴"},on:{change:e.parseSchema},model:{value:e.code,callback:function(s){e.code=s},expression:"code"}},[s("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(s){return e.copy(e.code)}},slot:"prepend"},[s("i",{staticClass:"el-icon-document-copy"}),e._v(" 点击复制 ")])])],1),e.isAdmin?s("div",{staticClass:"m-talent-code"},[s("h2",{staticClass:"m-talent-subtitle"},[e._v("配装编码")]),s("el-input",{attrs:{placeholder:"配装器编码"},model:{value:e.pzcode,callback:function(s){e.pzcode=s},expression:"pzcode"}},[s("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(s){return e.copy(e.pzcode)}},slot:"prepend"},[s("i",{staticClass:"el-icon-document-copy"}),e._v(" 点击复制 ")])])],1):e._e(),e.isLogin?s("div",{staticClass:"m-talent-op"},[s("el-button",{attrs:{type:"primary",icon:e.currentSchema?"el-icon-check":"el-icon-document-add"},on:{click:e.save}},[e._v(e._s(e.currentSchema?"保存":"保存为预设"))]),e.isEditing?s("el-button",{staticClass:"u-btn",attrs:{type:"success",icon:"el-icon-document-add",plain:""},on:{click:e.saveAs}},[e._v("另存为")]):e._e()],1):e._e()]),e.isLogin?s("talent-drawer",{attrs:{drawer:e.drawer},on:{"update-drawer":e.updateDrawer,use:e.use}}):e._e()],1)])},i=[],n=t("5530"),c=(t("caad"),t("2532"),t("e9c4"),t("a15b"),t("46d4")),o=t("65c2"),l=t("31de"),r=t("1157"),d=t.n(r),m=t("1d92"),u=t("0644"),h=t.n(u),p=t("83e1"),_=t("c9d2"),q=t("18c0"),f=t("f71e"),v=t("793d"),P={name:"Talent",props:[],data:function(){return{activeName:"common",xf:"其它",sq:"1,1,1,1,1,1,1,1,1,1,1,1",driver:"",code:"",pzcode:"",version:"",versions:[],schemas:m,isLogin:_["a"].isLogin(),isAdmin:!1,showList:!1,drawer:!1,currentSchema:""}},computed:{schema_group:function(){return m[this.xf]},client:function(){return location.href.includes("origin")?"origin":"std"},mount:function(){var e;return null===(e=c[this.xf])||void 0===e?void 0:e.id},params:function(){var e=this.client,s=this.mount,t=this.version,a=this.code,i=this.pzcode,n=this.xf;return{client:e,type:"talent",mount:s,version:t,code:JSON.parse(a),pzcode:JSON.parse(i),xf:n}},xfMaps:function(){var e=h()(c);return delete e["山居剑意"],e},isEditing:function(){return!!this.currentSchema}},methods:{updateDrawer:function(e){this.drawer=e},parseSchema:function(){var e=this;this.driver.then((function(s){if(e.code){var t={};try{t=JSON.parse(e.code),s.load(t),e.$message({message:"编码解析成功",type:"success"})}catch(a){e.$message.error("编码格式错误")}}}))},reload:function(e){var s=this;this.currentSchema="",this.driver.then((function(e){e.load({version:s.version,xf:s.xf,sq:s.sq,editable:!0})}))},copy:function(e){e&&Object(f["a"])(e,{success_message:"复制奇穴编码成功"})},save:function(){var e=this;this.mount?this.isEditing?Object(p["d"])(this.currentSchema.id,Object(n["a"])({},this.params)).then((function(){e.$notify({type:"success",title:"成功",message:"修改成功"})})):this.$prompt("请输入方案名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValidator:function(e){if(!e)return"输入不能为空"}}).then((function(s){var t=s.value;Object(p["a"])(Object(n["a"])(Object(n["a"])({},e.params),{},{name:t})).then((function(){e.$notify({type:"success",title:"成功",message:"保存成功"})}))})):this.$notify({type:"warning",title:"提醒",message:"暂未选择心法，请先选择心法"})},saveAs:function(){var e,s=this;this.$prompt("方案另存为","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValue:null===(e=this.currentSchema)||void 0===e?void 0:e.name,inputValidator:function(e){if(!e)return"输入不能为空"}}).then((function(e){var t=e.value;Object(p["a"])(Object(n["a"])(Object(n["a"])({},s.params),{},{name:t})).then((function(){s.$notify({type:"success",title:"成功",message:"保存成功"})}))}))},use:function(e){this.code=JSON.stringify(e.code),this.pzcode=JSON.stringify(e.pzcode);var s=JSON.parse(this.code);this.xf=s.xf,this.currentSchema=e,this.parseSchema()},init:function(){var e=this;Object(p["b"])().then((function(s){e.versions=s.data,e.version=e.versions&&e.versions.length&&e.versions[0]["version"],e.driver=new l["a"]({version:e.version,editable:!0});var t=e;d()(document).on("JX3_QIXUE_Change",(function(e,s){var a={};a.version=s.version,a.xf=s.xf,a.sq=s.sq.join(","),t.code=JSON.stringify(a),t.pzcode=JSON.stringify(s.overview)}))}))},xficon:function(e){return o["__imgPath"]+"image/xf/"+e+".png"}},mounted:function(){this.init(),this.isAdmin=_["a"].isAdmin()},watch:{page:function(){this.isLogin&&this.loadList()}},components:{talentDrawer:q["a"],AppLayout:v["a"]}},x=P,V=(t("c90a"),t("2877")),E=Object(V["a"])(x,a,i,!1,null,null,null);s["default"]=E.exports},c90a:function(e,s,t){"use strict";t("73b3")}}]);
//# sourceMappingURL=chunk-7b0a0d1f.f4909e8a.js.map