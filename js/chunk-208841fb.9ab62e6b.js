(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-208841fb"],{"0481":function(t,e,n){"use strict";var a=n("23e7"),i=n("a2bf"),s=n("7b0b"),l=n("07fa"),r=n("5926"),o=n("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),n=l(e),a=o(e,0);return a.length=i(a,e,e,n,0,void 0===t?1:r(t)),a}})},"07ac":function(t,e,n){"use strict";var a=n("23e7"),i=n("6f53").values;a({target:"Object",stat:!0},{values:function(t){return i(t)}})},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("14d9"),n("d3b7"),n("3ca3"),n("ddb0");function i(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,s,l,r=[],o=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=s.call(n)).done)&&(r.push(a.value),r.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{if(!o&&null!=n["return"]&&(l=n["return"](),Object(l)!==l))return}finally{if(c)throw i}}return r}}var s=n("06c5");n("d9e2");function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){return a(t)||i(t,e)||Object(s["a"])(t,e)||l()}},"38cf":function(t,e,n){"use strict";var a=n("23e7"),i=n("1148");a({target:"String",proto:!0},{repeat:i})},4069:function(t,e,n){"use strict";var a=n("44d2");a("flat")},"4fad":function(t,e,n){"use strict";var a=n("23e7"),i=n("6f53").entries;a({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"6f53":function(t,e,n){"use strict";var a=n("83ab"),i=n("d039"),s=n("e330"),l=n("e163"),r=n("df75"),o=n("fc6a"),c=n("d1e7").f,u=s(c),d=s([].push),m=a&&i((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),f=function(t){return function(e){var n,i=o(e),s=r(i),c=m&&null===l(i),f=s.length,h=0,p=[];while(f>h)n=s[h++],a&&!(c?n in i:u(i,n))||d(p,t?[n,i[n]]:i[n]);return p}};t.exports={entries:f(!0),values:f(!1)}},"81d5":function(t,e,n){"use strict";var a=n("7b0b"),i=n("23cb"),s=n("07fa");t.exports=function(t){var e=a(this),n=s(e),l=arguments.length,r=i(l>1?arguments[1]:void 0,n),o=l>2?arguments[2]:void 0,c=void 0===o?n:i(o,n);while(c>r)e[r++]=t;return e}},a2bf:function(t,e,n){"use strict";var a=n("e8b5"),i=n("07fa"),s=n("3511"),l=n("0366"),r=function(t,e,n,o,c,u,d,m){var f,h,p=c,v=0,A=!!d&&l(d,m);while(v<o)v in n&&(f=A?A(n[v],v,e):n[v],u>0&&a(f)?(h=i(f),p=r(t,e,f,h,p,u-1)-1):(s(p+1),t[p]=f),p++),v++;return p};t.exports=r},b2a2:function(t){t.exports=JSON.parse('{"b":{"山川":[[{"name":"踏云","type":"talent","icon":22,"max":1,"desc":["踏云稻香溪涧。"]},{"name":"蹑云","type":"talent","icon":1490,"max":1,"desc":["蹑云逐月摘星。"]},{"name":"扶摇","type":"talent","icon":1485,"max":4,"desc":["扶摇直上九霄。"]},{"name":"萍踪","type":"talent","icon":622,"max":4,"desc":["萍踪林间侠影。"]}],[{"name":"花海","type":"talent","icon":13417,"max":1,"desc":["走过晴昼海的花海。"]},{"name":"望月","type":"talent","icon":3138,"max":1,"desc":["扶摇跳上摘星楼顶。"]},{"name":"雪松","type":"talent","icon":628,"max":1,"desc":["躺过论剑峰的石头。"]},{"name":"苍穹","type":"talent","icon":4173,"max":1,"desc":["站在光明顶的最高处。"]}],[{"name":"占卜","type":"talent","icon":2296,"max":1,"desc":["稻香村完成算卦。"]},{"name":"赶尸","type":"talent","icon":109,"max":1,"desc":["洛道的回忆。"]},{"name":"东瀛","type":"talent","icon":489,"max":2,"desc":["珍藏的真丝肚兜与春宫图册。"]},null],[{"name":"小女儿","type":"talent","icon":2789,"max":2,"desc":["不爱华服爱裙装。"]},{"name":"暮春寒","type":"talent","icon":3089,"max":2,"desc":["四月里，思念你。"]},{"name":"团绒戏","type":"talent","icon":14823,"max":2,"desc":["万家灯火，照亮你我。"]},{"name":"踏雪","type":"talent","icon":276,"max":2,"desc":["鹿震专座。"]}],[{"name":"师恩","type":"talent","icon":2181,"max":3,"desc":["拜一名师傅。"]},{"name":"桃李","type":"talent","icon":2182,"max":3,"desc":["收一名徒弟。"]},{"name":"江湖","type":"talent","icon":1241,"max":2,"desc":["加入一个帮会或团队。"]},null],[null,{"name":"采萝莉的小蘑菇","type":"skill","icon":2178,"max":1,"desc":["我的很大，你忍一下！"],"pretab":1},{"name":"情缘缘","type":"skill","icon":670,"max":1,"desc":["找到一名情缘。"]},null],[null,null,null,{"name":"寡王","type":"skill","icon":433,"max":1,"desc":["正道的光，母胎solo！"]}]],"日月":[[{"name":"大战","type":"talent","icon":812,"max":5,"desc":["霸王弩，大战随便来四等一！"]},null,null,{"name":"南屏昆仑","type":"talent","icon":8313,"max":5,"desc":["完成威望日常。"]}],[{"name":"迦兰","type":"talent","icon":2103,"max":2,"desc":["腿毛的诱惑。"]},{"name":"莲华","type":"talent","icon":336,"max":2,"desc":["婉清……你听我说。"]},{"name":"云湖","type":"talent","icon":9,"max":2,"desc":["参与战场或插旗。"]},{"name":"烟影","type":"talent","icon":2375,"max":2,"desc":["参与一次千人攻防。"],"pretab":1}],[{"name":"屌丝","type":"talent","icon":8848,"max":1,"desc":["我是一只快乐的小屌丝。"]},{"name":"打工仔","type":"talent","icon":10452,"max":2,"desc":["我是一只快乐的打工仔。"]},{"name":"高级打工仔","type":"talent","icon":10451,"max":3,"desc":["我是一只高级的打工仔。"]},{"name":"壕","type":"talent","icon":2589,"max":4,"desc":["拥有一把橙武。"]}],[{"name":"打桩机","type":"talent","icon":5352,"max":5,"desc":["成为一名地痞艾斯。"]},{"name":"打地鼠","type":"talent","icon":1498,"max":2,"desc":["成为一名奶妈。"]},{"name":"我是MT","type":"talent","icon":646,"max":2,"desc":["成为一名坦克。"]},{"name":"全职高手","type":"talent","icon":415,"max":5,"desc":["精通全职业，成为骨灰玩家。"]}],[{"name":"墨艺","type":"talent","icon":243,"max":4,"desc":["在魔盒发表一篇作品。"],"pretab":1},{"name":"茶艺","type":"talent","icon":105,"max":9,"desc":["学习嘤嘤嘤的正确喊话方式。"],"pretab":1},{"name":"号令三军","type":"skill","icon":2588,"max":1,"desc":["成为一名团长或指挥。"],"pretab":1},{"name":"喷艺","type":"talent","icon":1488,"max":9,"desc":["在贴吧发表一篇818。"]}],[{"name":"宗师","type":"skill","icon":3120,"max":1,"desc":["精通墨艺，成为门派大师兄或门派大师姐。"],"pretab":1},{"name":"倾国倾城","type":"talent","icon":6738,"max":1,"desc":["成为一名团长夫人。"],"pretab":1},null,null],[null,null,null,{"name":"谁与争锋","type":"skill","icon":272,"max":1,"desc":["成为一名优秀的键盘侠。"],"pretab":1}]]},"a":{"total":36,"series_open_need":29}}')},cb29:function(t,e,n){"use strict";var a=n("23e7"),i=n("81d5"),s=n("44d2");a({target:"Array",proto:!0},{fill:i}),s("fill")},cb97:function(t,e){t.exports="data:image/png;base64,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"},d8bd:function(t,e,n){"use strict";n("efaf")},e030:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("a9e3");var a=function(){var t=this,e=t._self._c;return e("app-layout",{attrs:{slug:"talent2"}},[e("div",{staticClass:"m-talent m-talent2"},[e("div",{staticClass:"m-talent-header"},[e("h1",{staticClass:"m-talent-title"},[t._v("镇派模拟器")]),e("div",{staticClass:"m-talent-panel"},[e("div",{staticClass:"m-talent-version"},[e("span",{staticClass:"u-label"},[t._v("选择版本")]),e("el-select",{attrs:{placeholder:"请选择游戏版本","popper-class":"m-talent__pop"},on:{change:t.reload},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versions,(function(n){return e("el-option",{key:n.version,attrs:{label:n.name,value:n.version}},[e("div",{staticClass:"m-talent__option"},[e("span",{staticClass:"u-label"},[t._v(t._s(n.name))]),e("span",{staticClass:"u-version"},[t._v(t._s(n.version))])])])})),1)],1),t.isLogin?e("div",{staticClass:"u-toolbar"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-setting",size:"small"},on:{click:function(e){t.drawer=!0}}},[t._v("我的预设")])],1):t._e()])]),e("div",{staticClass:"m-talent-wrapper"},[e("h2",{staticClass:"m-talent-subtitle"},[t._v("选择心法")]),e("div",{staticClass:"m-talent-xf"},t._l(t.xfMaps,(function(n,a){return e("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.isOrigin(n),expression:"isOrigin(item)"}],key:a,attrs:{label:n.name},on:{change:t.reload},model:{value:t.xf,callback:function(e){t.xf=e},expression:"xf"}},[e("img",{staticClass:"u-pic",attrs:{src:t.xficon(n.id),alt:n.name}}),e("span",{staticClass:"u-txt"},[t._v(t._s(n.name))])])})),1),e("h2",{staticClass:"m-talent-subtitle"},[t._v("配置镇派")]),e("div",{staticClass:"m-talent2-box"},[e("div",{staticClass:"m-talent2-main-title"},[t._v("镇派经脉模拟器")]),t.xf?[e("div",{staticClass:"m-talent2-surplus",class:[t.total-t.totalCount>0?"":"m-talent2-surplus-empty"]},[t._v(" 剩余点数 : "),e("span",[t._v(t._s(t.surplus))])]),e("div",{staticClass:"m-talent2-main"},[e("div",{staticClass:"m-talent2-left"},[e("div",{staticClass:"m-talent2-content",class:{"is-single":t.isSingle},style:{"background-image":t.xf?"url(".concat(t.talentBg("left",1),")"):""}},[e("div",{staticClass:"m-talent2-title"},[e("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t.xficon(t.xfContent[0])}}),e("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.lCount))]),e("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.l_name))])]),t._l(t.talentContent.left,(function(a,i){return e("div",{key:"l"+i,staticClass:"m-talent2-content-row"},[t._l(a,(function(a,s){return[a?e("div",{key:s,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===a.type},t.canOperate(i,"left")?"":"m-talent2-content-item-disabled",a.pretab?"m-talent2-pretab":"",t.isMutex(a,i,s,"left")?"m-talent2-content-item-disabled":""],on:{mouseover:function(e){a&&t.$set(a,"on",!0)},mouseleave:function(e){a&&t.$set(a,"on",!1)}}},[e("div",{class:[t.canLeftItemOperate(i,s)?"m-talent2-selected":a&&"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected",a&&"skill"===a.type?"":"m-talent2-talent",t.surplus||!a||Number(t.l_data[i][s])?"":"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected",t.isMutex(a,i,s,"left")&&a?"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected":""],on:{click:function(e){return t.leftTalentAdd(a,i,s)},contextmenu:function(e){return e.preventDefault(),t.leftTalentDecrease(i,s,a)}}},[a.pretab&&a.pretab>t.isLeftParentAdd(i,s)&&t.canLeftItemOperate(i,s)?e("span",{class:a&&"skill"===a.type?"is-add-skill":"is-add"}):t._e(),t.surplus||Number(t.l_data[i][s])?t._e():e("span",{class:a&&"skill"===a.type?"is-add-skill":"is-add"}),e("img",{staticClass:"talent-img",class:{"skill-img":a&&"skill"===a.type},attrs:{src:t.talentIcon(a.icon),alt:a.name}}),t.isMutex(a,i,s,"left")?e("img",{staticClass:"u-mutex-img",attrs:{src:n("cb97"),alt:""}}):t._e()]),Number(t.l_data[i][s])?e("span",{staticClass:"m-talent2-content-item-count",class:[Number(t.l_data[i][s])<a.max?"m-talent2-content-item-count-under":""]},[t._v(" "+t._s(t.l_data[i][s])+" ")]):t._e(),e("span",{staticClass:"m-talent2-pop",class:a&&a.on?"on":""},[e("b",{staticClass:"m-talent2-name"},[e("span",[t._v(" "+t._s(a.name)+" "),a.id?e("small",{staticClass:"u-talent2-id"},[t._v("(ID: "+t._s(a.id)+")")]):t._e()]),e("span",{staticClass:"m-talent2-number"},[t._v(" 第"+t._s(Number(t.l_data[i][s])+"/"+a.max)+"重 ")])]),e("span",{staticClass:"m-talent2-desc",domProps:{innerHTML:t._s(Number(t.l_data[i][s])&&"通用"!==t.xf?a.desc[t.l_data[i][s]-1]:a.desc[0])}}),Number(t.l_data[i][s])&&Number(t.l_data[i][s])<a.max?e("span",{staticClass:"m-talent2-desc-next"},["通用"!==t.xf?e("span",{staticClass:"m-next-text"},[t._v("下一重：")]):t._e(),e("span",[t._v(" "+t._s(a.desc[t.l_data[i][s]])+" ")])]):t._e(),Number(t.l_data[i][s])===a.max?e("span",{staticClass:"m-max"},[t._v("该招式已练至最高境界")]):t._e(),Number(t.l_data[i][s])?e("span",{staticClass:"m-talent-retrogress"},[t._v("右键点击遗忘")]):t._e()])]):e("div",{key:"empty-"+s,staticClass:"m-talent2-content-item-empty"})]}))],2)}))],2)]),t.isSingle?t._e():e("div",{staticClass:"m-talent2-right"},[e("div",{staticClass:"m-talent2-content",style:{"background-image":t.xf?"url(".concat(t.talentBg("right",1),")"):""}},[e("div",{staticClass:"m-talent2-title"},[e("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t.xficon(t.xfContent[1])}}),e("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.rCount))]),e("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.r_name))])]),t._l(t.talentContent.right,(function(n,a){return e("div",{key:"r"+a,staticClass:"m-talent2-content-row"},[t._l(n,(function(n,i){return[n?e("div",{key:i,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===n.type},t.canOperate(a,"right")?"":"m-talent2-content-item-disabled",n.pretab?"m-talent2-pretab":"",t.isMutex(n,a,i,"right")?"m-talent2-content-item-disabled":""],on:{mouseover:function(e){n&&t.$set(n,"on",!0)},mouseleave:function(e){n&&t.$set(n,"on",!1)}}},[e("div",{class:[t.canRightItemOperate(a,i)?"m-talent2-selected":"skill"===n.type?"m-talent2-skill-unselected":"m-talent2-unselected","skill"===n.type?"":"m-talent2-talent",t.surplus||Number(t.r_data[a][i])?"":"skill"===n.type?"m-talent2-skill-unselected":"m-talent2-unselected",t.isMutex(n,a,i,"right")?"m-talent2-unselected":""],on:{click:function(e){return t.rightTalentAdd(n,a,i)},contextmenu:function(e){return e.preventDefault(),t.rightTalentDecrease(a,i,n)}}},[n.pretab&&!t.isRightParentAdd(a,i)&&t.canRightItemOperate(a,i)?e("span",{class:"skill"===n.type?"is-add-skill":"is-add"}):t._e(),t.surplus||Number(t.r_data[a][i])?t._e():e("span",{class:"skill"===n.type?"is-add-skill":"is-add"}),e("img",{staticClass:"talent-img",class:{"skill-img":"skill"===n.type},attrs:{src:t.talentIcon(n.icon),alt:n.name}})]),Number(t.r_data[a][i])?e("span",{staticClass:"m-talent2-content-item-count",class:[Number(t.r_data[a][i])<n.max?"m-talent2-content-item-count-under":""]},[t._v(" "+t._s(t.r_data[a][i])+" ")]):t._e(),e("span",{staticClass:"m-talent2-pop",class:n&&n.on?"on":""},[e("b",{staticClass:"m-talent2-name"},[e("span",[t._v(" "+t._s(n.name)+" "),n.id?e("small",{staticClass:"u-talent2-id"},[t._v("(ID: "+t._s(n.id)+")")]):t._e()]),e("span",{staticClass:"m-talent2-number"},[t._v(" 第"+t._s(Number(t.r_data[a][i])+"/"+n.max)+"重 ")])]),e("span",{staticClass:"m-talent2-desc",domProps:{innerHTML:t._s(Number(t.r_data[a][i])&&"通用"!==t.xf?n.desc[t.r_data[a][i]-1]:n.desc[0])}}),Number(t.r_data[a][i])&&Number(t.r_data[a][i])<n.max?e("span",{staticClass:"m-talent2-desc-next"},["通用"!==t.xf?e("span",{staticClass:"m-next-text"},[t._v("下一重：")]):t._e(),e("span",[t._v(" "+t._s(n.desc[t.r_data[a][i]])+" ")])]):t._e(),Number(t.r_data[a][i])===n.max?e("span",{staticClass:"m-max"},[t._v("该招式已练至最高境界")]):t._e(),Number(t.r_data[a][i])?e("span",{staticClass:"m-talent-retrogress"},[t._v("右键点击遗忘")]):t._e()])]):e("div",{key:"empty-"+i,staticClass:"m-talent2-content-item-empty"})]}))],2)}))],2)])]),e("div",{staticClass:"m-talent2-actions",class:{"is-single":t.isSingle}},[e("div",{staticClass:"reset-btn",class:t.totalCount?"m-talent2-actions-btn":"m-talent2-actions-btn-disabled",on:{click:t.reload}},[t._v(" 重置 ")])])]:t._e()],2),e("h2",{staticClass:"m-talent-subtitle"},[t._v("镇派编码")]),e("div",{staticClass:"m-talent-code"},[e("el-input",{attrs:{placeholder:"粘贴编码亦可自动解析奇穴"},on:{change:t.parseSchema},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[e("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(e){return t.copy(t.code)}},slot:"prepend"},[e("i",{staticClass:"el-icon-document-copy"}),t._v(" 点击复制 ")])])],1),t.isAdmin?[e("h2",{staticClass:"m-talent-subtitle"},[t._v("配装编码")]),e("el-input",{attrs:{placeholder:"配装器编码"},model:{value:t.pzcode,callback:function(e){t.pzcode=e},expression:"pzcode"}},[e("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(e){return t.copy(t.pzcode)}},slot:"prepend"},[e("i",{staticClass:"el-icon-document-copy"}),t._v(" 点击复制 ")])])]:t._e(),t.isLogin?e("div",{staticClass:"m-talent-op"},[e("el-button",{attrs:{type:"primary",icon:t.currentSchema?"el-icon-check":"el-icon-document-add"},on:{click:t.save}},[t._v(t._s(t.currentSchema?"保存":"保存为预设"))]),t.isEditing?e("el-button",{staticClass:"u-btn",attrs:{type:"success",icon:"el-icon-document-add",plain:""},on:{click:t.saveAs}},[t._v("另存为")]):t._e()],1):t._e()],2),t.isLogin?e("talent-drawer",{attrs:{drawer:t.drawer,type:"talent2",client:t.client},on:{"update-drawer":t.updateDrawer,use:t.use}}):t._e()],1)])},i=[],s=n("2909"),l=n("5530"),r=n("3835"),o=(n("99af"),n("cb29"),n("7db0"),n("0481"),n("caad"),n("a15b"),n("d81d"),n("14d9"),n("13d5"),n("fb6a"),n("a434"),n("4069"),n("e9c4"),n("4fad"),n("b64b"),n("d3b7"),n("07ac"),n("2532"),n("38cf"),n("159b"),n("65c2")),c=n("b2a2"),u=n("c9d2"),d=n("83e1"),m=n("85e4"),f=n("f71e"),h=n("18c0"),p=n("793d"),v={name:"Talent2",data:function(){return{activeName:"common",xf:"",code:"0",pzcode:"",begin:"left",l_name:"山川",r_name:"日月",version:"",versions:[],talents:{},total:0,l_data:["0000","0000","0000","0000","0000","0000"],r_data:["0000","0000","0000","0000","0000","0000"],series_open_need:0,xfContent:[],talentContent:{left:[],right:[]},condition:[],isLogin:u["a"].isLogin(),isAdmin:!1,showList:!1,drawer:!1,currentShemaName:"",currentSchema:"",isInit:!0,talentOriginData:{}}},computed:{client:function(){return"origin"},isSingle:function(){return!this.talentContent.left||!this.talentContent.right},lCount:function(){return this.l_data.length?this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},rCount:function(){return this.r_data.length?this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},leftLastIndex:function(){for(var t=0,e=this.l_data.length-1;e>0;e--)if(Number(this.l_data[e])){t=e;break}return t},rightLastIndex:function(){for(var t=0,e=this.r_data.length-1;e>0;e--)if(Number(this.r_data[e])){t=e;break}return t},totalCount:function(){return this.lCount+this.rCount},talent2Data:function(){return"left"===this.begin?this.l_data.concat(this.r_data).join(","):this.r_data.concat(this.l_data).join(",")},surplus:function(){return this.total-this.totalCount},mount:function(){var t;return null===(t=this.xfMaps[this.xf])||void 0===t?void 0:t.id},params:function(){var t=this.mount,e=this.version,n=this.code,a=this.pzcode,i=this.xf;return{client:"origin",type:"talent2",mount:t,version:e,code:JSON.parse(n),pzcode:JSON.parse(a),xf:i}},xfMaps:function(){var t={"通用":{name:"通用",id:0,force:0,school:0,client:["all","std","origin"]}};if(this.talentOriginData&&this.talentOriginData.mount&&this.talentOriginData.mount.length){var e=this.talentOriginData.mount;e.forEach((function(e){e.talent_tabs.length&&e.first&&(t[e.mount_name]={name:e.mount_name,id:e.mount_id,force:e.force_id,school:e.school_id,client:["all","std","origin"]})}))}return t},xfConfigs:function(){var t=this,e={"通用":{begin:"left",content:[0,0],talent:["山川","日月"],condition:[0,5,10,15,20,25,25]}};return this.talentOriginData&&this.talentOriginData.mount&&this.talentOriginData.mount.length?(this.talentOriginData.mount.forEach((function(n){if(n.talent_tabs.length||n.first){var a=n.talent_tabs.map((function(e){return t.getMountId(e)}));e[n.mount_name]={begin:n.talent_tabs[0]===n.first?"left":"right",content:a,talent:n.talent_tabs,condition:[0,5,10,15,20,25,25]}}})),e):null},isEditing:function(){return!!this.currentSchema},mutexObj:function(){var t={};return this.talentOriginData&&this.talentOriginData.mutex&&Object.values(this.talentOriginData.mutex).forEach((function(e){Object.entries(e).forEach((function(e){var n=Object(r["a"])(e,2),a=n[0],i=n[1];t[a]=i}))})),t}},methods:{updateDrawer:function(t){this.drawer=t},getPreTab:function(t){var e=this.talentOriginData.condition;for(var n in e){var a=e[n];if(a[t]&&Object.values(a[t].PreviousTab).length)return Object.values(a[t].PreviousTab)[0]}return""},getMountId:function(t){var e=this.talentOriginData.mount.find((function(e){return e.first===t}));return e?e.mount_id:e},getIcon:function(t){return o["__imgPath"]+"image/box/"+t+".svg"},reload:function(){this.currentSchema="";var t=this.l_data.map((function(t){return"0".repeat(t.length)})),e=this.r_data.map((function(t){return"0".repeat(t.length)}));this.l_data=t,this.r_data=e},reset:function(){},renderCode:function(){var t=this.version,e=this.xf,n=this.talent2Data,a=this.l_data,i=this.r_data,s=this.talentContent,l={version:t,xf:e,sq:n};this.code=JSON.stringify(l);var r=[];a.forEach((function(t,e){var n=t.split("").map((function(t){return parseInt(t)}));n.forEach((function(t,n){var a,i,l=null===(a=s.left)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[n],o={id:(null===l||void 0===l?void 0:l.id)||0,icon:(null===l||void 0===l?void 0:l.icon)||"",level:t,name:(null===l||void 0===l?void 0:l.name)||""};r.push(o)}))})),i.forEach((function(t,e){var n=t.split("").map((function(t){return parseInt(t)}));n.forEach((function(t,n){var a,i,l=null===(a=s.right)||void 0===a||null===(i=a[e])||void 0===i?void 0:i[n],o={id:(null===l||void 0===l?void 0:l.id)||0,icon:(null===l||void 0===l?void 0:l.icon)||"",level:t,name:(null===l||void 0===l?void 0:l.name)||""};r.push(o)}))})),this.pzcode=JSON.stringify(r)},copy:function(t){Object(f["a"])(t,{success_message:"编码复制成功"})},isOrigin:function(t){return t["client"].includes("origin")},parseSchema:function(){try{var t,e,n,a,i=this.xfConfigs,s=JSON.parse(this.code);this.version=s.version,this.xf=s.xf;var l=this.xf;this.xfContent=null===(t=i[l])||void 0===t?void 0:t.content,this.begin=null===(e=i[l])||void 0===e?void 0:e.begin,this.talentContent.left=this.talents[i[l].talent[0]],this.l_name=null===(n=i[l])||void 0===n?void 0:n.talent[0],this.talentContent.right=this.talents[i[l].talent[1]],this.r_name=null===(a=i[l])||void 0===a?void 0:a.talent[1];var r=s.sq.split(","),o=this.talentContent.left.length;"left"===this.begin?(this.l_data=r.slice(0,o),this.r_data=r.slice(o,r.length)):"right"===this.begin&&(this.r_data=r.slice(0,o),this.l_data=r.slice(o,r.length))}catch(c){this.$message.error("编码格式错误")}},canOperate:function(t,e){var n,a;return"left"===e?this.lCount>=(null===(n=this.condition)||void 0===n?void 0:n[t]):this.rCount>=(null===(a=this.condition)||void 0===a?void 0:a[t])},canLeftItemOperate:function(t,e){var n,a=!1;if("left"===this.begin)t?this.lCount>0&&this.lCount>=((null===(n=this.condition)||void 0===n?void 0:n[t])||0)&&(a=!0):a=!0;else if("right"===this.begin){var i;this.rCount>=this.series_open_need&&this.lCount>=0&&this.lCount>=((null===(i=this.condition)||void 0===i?void 0:i[t])||0)&&(a=!0)}return a},isLeftParentAdd:function(t,e){var n,a;return this.talentContent.left[t-1][e]?Number(null===(n=this.l_data)||void 0===n||null===(a=n[t-1])||void 0===a?void 0:a[e]):this.isLeftParentAdd(t-1,e)},leftTalentAdd:function(t,e,n){if(this.canOperate(e,"left")&&!this.isMutex(t,e,n,"left"))if(null!==t&&void 0!==t&&t.pretab&&(null===t||void 0===t?void 0:t.pretab)>this.isLeftParentAdd(e,n))this.$message.warning({message:"要激活该天赋需要先激活对应的上层天赋"});else{var a=t.max,i=t.parent;if("right"===this.begin&&this.rCount<this.series_open_need)this.$message.warning({message:"主天赋需要先激活".concat(this.series_open_need,"点，才能激活本区域的天赋")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(r["a"])(i,1),l=s[0],o=Number(this.l_data[l.row][l.index]);if(!o)return void this.$message({type:"warning",message:"该天赋存在前置天赋，需先激活前置天赋"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var c=Number(this.l_data[e][n]);if(c<a){c++;var u=this.l_data[e].split("");u[n]=String(c),this.l_data.splice(e,1,u.join("")),t.count=c}else this.$message({type:"warning",message:"该天赋已达最高层数"})}}}},leftTalentDecrease:function(t,e,n){var a=Number(this.l_data[t][e]);if(a>0){if(t<this.l_data.length-1){var i=0,s=this.l_data.slice(0,t+1),l=this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(i=s.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),i<=this.condition[this.leftLastIndex]&&l>i)return void this.$message.warning({title:"提醒",message:"不能再减啦"})}a--;var r=this.l_data[t].split("");r[e]=String(a),n.count=a,this.l_data.splice(t,1,r.join(""))}},canRightItemOperate:function(t,e){var n,a=!1;if("right"===this.begin)t?this.rCount>0&&this.rCount>=((null===(n=this.condition)||void 0===n?void 0:n[t])||0)&&(a=!0):a=!0;else if("left"===this.begin){var i;this.lCount>=this.series_open_need&&this.rCount>=0&&this.rCount>=(null===(i=this.condition)||void 0===i?void 0:i[t])&&(a=!0)}return a},isRightParentAdd:function(t,e){return this.talentContent.right[t-1][e]?Number(this.r_data[t-1][e]):this.isRightParentAdd(t-1,e)},rightTalentAdd:function(t,e,n){if(this.canOperate(e,"right")&&!this.isMutex(t,e,n,"right"))if(null===t||void 0===t||!t.pretab||this.isRightParentAdd(e,n)){var a=t.max,i=t.parent;if("left"===this.begin&&this.lCount<this.series_open_need)this.$message.warning({title:"提醒",message:"主天赋需要先激活".concat(this.series_open_need,"点，才能激活本区域的天赋")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(r["a"])(i,1),l=s[0],o=Number(this.r_data[l.row][l.index]);if(!o)return void this.$message({type:"warning",message:"该天赋存在前置天赋，需先激活前置天赋"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var c=Number(this.r_data[e][n]);if(c<a){c++;var u=this.r_data[e].split("");u[n]=String(c),t.count=c,this.r_data.splice(e,1,u.join(""))}else console.log(t),this.$message({type:"warning",message:"该天赋已达最高层数"})}}}else this.$message.warning({message:"要激活该天赋需要先激活对应的上层天赋"})},rightTalentDecrease:function(t,e,n){var a=Number(this.r_data[t][e]);if(a>0){if(t<this.r_data.length-1){var i=0,s=this.r_data.slice(0,t+1),l=this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(i=s.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),i<=this.condition[this.rightLastIndex]&&l>i)return void this.$message.warning({title:"提醒",message:"不能再减啦"})}a--;var r=this.r_data[t].split("");r[e]=String(a),n.count=a,this.r_data.splice(t,1,r.join(""))}},talentBg:function(t,e){if(t)return"left"===t?o["__imgPath"]+"image/talent/".concat(this.xfContent[0],"_").concat(e,".png"):o["__imgPath"]+"image/talent/".concat(this.xfContent[1],"_").concat(e,".png")},getVersions:function(){var t=this;fetch(o["__node"]+"talent-origin/list").then((function(t){return t.json()})).then((function(e){var n;t.versions=e.data.list.map((function(t){return{version:t.talent_version,name:t.version}})),t.version=null===(n=t.versions[0])||void 0===n?void 0:n.version}))},getTanletOriginData:function(){var t=this;this.talents=Object(l["a"])({},c["b"]),fetch(o["__node"]+"talent-origin/"+this.version).then((function(t){return t.json()})).then((function(e){var n=e.data,a=e.data.mount.reduce((function(t,e){if(null!==e.first){var n=t.find((function(t){return t.first===e.first}));n||(e.talent_tabs&&e.talent_tabs.length&&e.talent_tabs[0]===e.talent_tabs[1]?t.push(Object(l["a"])(Object(l["a"])({},e),{},{mount_name:e.first,talent_tabs:[e.first]})):t.push(e))}return t}),[]);n.mount=a,t.talentOriginData=n,t.talents=Object(l["a"])(Object(l["a"])({},e.data.detail),c["b"]),t.isInit&&(t.xf="通用",t.isInit=!1),t.total=66}))},getTalents:function(){var t=this;fetch(o["__ossRoot"]+"data/talent2/v20240305.json").then((function(t){return t.json()})).then((function(e){t.talents=Object(l["a"])(Object(l["a"])({},e),c["b"]),t.isInit&&(t.xf="通用",t.isInit=!1),t.total=66}))},save:function(){var t=this;this.mount?this.isEditing?Object(d["d"])(this.currentSchema.id,Object(l["a"])({},this.params)).then((function(){t.$notify({type:"success",title:"成功",message:"修改成功"})})):this.$prompt("请输入方案名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValidator:function(t){if(!t)return"输入不能为空"}}).then((function(e){var n=e.value;Object(d["a"])(Object(l["a"])(Object(l["a"])({},t.params),{},{name:n})).then((function(){t.$notify({type:"success",title:"成功",message:"预设方案保存成功"})}))})):this.$notify({type:"warning",title:"提醒",message:"暂未选择心法，请先选择心法"})},saveAs:function(){var t,e=this;this.$prompt("方案另存为","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValue:null===(t=this.currentSchema)||void 0===t?void 0:t.name,inputValidator:function(t){if(!t)return"输入不能为空"}}).then((function(t){var n=t.value;Object(d["a"])(Object(l["a"])(Object(l["a"])({},e.params),{},{name:n})).then((function(){e.$message({type:"success",message:"方案保存成功"})}))}))},use:function(t){var e=this,n=t.code;this.currentSchema=t,this.version=t.version,this.xf=n.xf,setTimeout((function(){e.code=JSON.stringify(t.code),e.pzcode=JSON.stringify(t.pzcode),e.parseSchema()}))},talentIcon:function(t){return"通用"==this.xf?Object(m["iconLink"])(t):Object(m["iconLink"])(t,"origin")},xficon:function(t){return o["__imgPath"]+"image/xf/"+t+".png"},isMutex:function(t,e,n,a){var i,s,l,r=this.mutexObj[t.id];if(!r)return!1;var o=null===(i=this.talentContent)||void 0===i||null===(s=i[a])||void 0===s||null===(l=s[e])||void 0===l?void 0:l.find((function(t){return null===t||void 0===t?void 0:t.count}));return!!o&&r.includes(o.id)}},watch:{version:function(t){t&&this.getTanletOriginData()},xf:{immediate:!0,handler:function(t){var e=this;if(t&&this.xfConfigs){var n,a,i,l,r,o,u,d,m,f=this.xfConfigs;this.xfContent=null===(n=f[t])||void 0===n?void 0:n.content,this.begin=null===(a=f[t])||void 0===a?void 0:a.begin,this.talentContent.left=null===(i=this.talents[null===(l=f[t].talent)||void 0===l?void 0:l[0]])||void 0===i?void 0:i.map((function(t){var n=t.map((function(t){return t&&(e.$set(t,"on",!1),e.$set(t,"count",0),t["pretab"]=e.getPreTab(t.id)),t}));return n})),this.l_name=null===(r=f[t])||void 0===r?void 0:r.talent[0];var h=Math.max.apply(Math,Object(s["a"])(this.talentContent.left.map((function(t){return t.length})))),p=this.talentContent.left.length;this.l_data=Array(p).fill(0).map((function(){return Array(h).fill(0).join("")})),this.talentContent.right=null===(o=this.talents[null===(u=f[t].talent)||void 0===u?void 0:u[1]])||void 0===o?void 0:o.map((function(t){var n=t.map((function(t){return t&&(e.$set(t,"on",!1),e.$set(t,"count",0),t["pretab"]=e.getPreTab(t.id)),t}));return n})),this.r_name=null===(d=f[t])||void 0===d?void 0:d.talent[1],this.r_data=Array(p).fill(0).map((function(){return Array(h).fill(0).join("")})),this.total="通用"===t?66:c["a"].total,this.condition=(null===(m=f[t])||void 0===m?void 0:m.condition)||[0,5,10,15,20,25],this.renderCode()}}},talent2Data:function(){this.renderCode()}},mounted:function(){this.getVersions(),this.series_open_need=c["a"].series_open_need,this.isAdmin=u["a"].isAdmin()},components:{talentDrawer:h["a"],AppLayout:p["a"]}},A=v,g=(n("d8bd"),n("2877")),_=Object(g["a"])(A,a,i,!1,null,null,null);e["default"]=_.exports},efaf:function(t,e,n){}}]);
//# sourceMappingURL=chunk-208841fb.9ab62e6b.js.map