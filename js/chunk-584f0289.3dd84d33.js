(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-584f0289"],{"0481":function(t,e,n){"use strict";var a=n("23e7"),i=n("a2bf"),s=n("7b0b"),l=n("07fa"),r=n("5926"),o=n("65f0");a({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),n=l(e),a=o(e,0);return a.length=i(a,e,e,n,0,void 0===t?1:r(t)),a}})},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("14d9");function i(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,s,l,r=[],o=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=s.call(n)).done)&&(r.push(a.value),r.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{if(!o&&null!=n["return"]&&(l=n["return"](),Object(l)!==l))return}finally{if(c)throw i}}return r}}var s=n("06c5");n("d9e2");function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){return a(t)||i(t,e)||Object(s["a"])(t,e)||l()}},"3b95":function(t,e,n){"use strict";n("9093")},4069:function(t,e,n){"use strict";var a=n("44d2");a("flat")},"81d5":function(t,e,n){"use strict";var a=n("7b0b"),i=n("23cb"),s=n("07fa");t.exports=function(t){var e=a(this),n=s(e),l=arguments.length,r=i(l>1?arguments[1]:void 0,n),o=l>2?arguments[2]:void 0,c=void 0===o?n:i(o,n);while(c>r)e[r++]=t;return e}},9093:function(t,e,n){},a2bf:function(t,e,n){"use strict";var a=n("e8b5"),i=n("07fa"),s=n("3511"),l=n("0366"),r=function(t,e,n,o,c,u,d,m){var f,h,p=c,A=0,g=!!d&&l(d,m);while(A<o)A in n&&(f=g?g(n[A],A,e):n[A],u>0&&a(f)?(h=i(f),p=r(t,e,f,h,p,u-1)-1):(s(p+1),t[p]=f),p++),A++;return p};t.exports=r},b2a2:function(t){t.exports=JSON.parse('{"b":{"山川":[[{"name":"踏云","type":"talent","icon":22,"max":1,"desc":["踏云稻香溪涧。"]},{"name":"蹑云","type":"talent","icon":1490,"max":1,"desc":["蹑云逐月摘星。"]},{"name":"扶摇","type":"talent","icon":1485,"max":4,"desc":["扶摇直上九霄。"]},{"name":"萍踪","type":"talent","icon":622,"max":4,"desc":["萍踪林间侠影。"]}],[{"name":"花海","type":"talent","icon":13417,"max":1,"desc":["走过晴昼海的花海。"]},{"name":"望月","type":"talent","icon":3138,"max":1,"desc":["扶摇跳上摘星楼顶。"]},{"name":"雪松","type":"talent","icon":628,"max":1,"desc":["躺过论剑峰的石头。"]},{"name":"苍穹","type":"talent","icon":4173,"max":1,"desc":["站在光明顶的最高处。"]}],[{"name":"占卜","type":"talent","icon":2296,"max":1,"desc":["稻香村完成算卦。"]},{"name":"赶尸","type":"talent","icon":109,"max":1,"desc":["洛道的回忆。"]},{"name":"东瀛","type":"talent","icon":489,"max":2,"desc":["珍藏的真丝肚兜与春宫图册。"]},null],[{"name":"小女儿","type":"talent","icon":2789,"max":2,"desc":["不爱华服爱裙装。"]},{"name":"暮春寒","type":"talent","icon":3089,"max":2,"desc":["四月里，思念你。"]},{"name":"团绒戏","type":"talent","icon":14823,"max":2,"desc":["万家灯火，照亮你我。"]},{"name":"踏雪","type":"talent","icon":276,"max":2,"desc":["鹿震专座。"]}],[{"name":"师恩","type":"talent","icon":2181,"max":3,"desc":["拜一名师傅。"]},{"name":"桃李","type":"talent","icon":2182,"max":3,"desc":["收一名徒弟。"]},{"name":"江湖","type":"talent","icon":1241,"max":2,"desc":["加入一个帮会或团队。"]},null],[null,{"name":"采萝莉的小蘑菇","type":"skill","icon":2178,"max":1,"desc":["我的很大，你忍一下！"],"pretab":1},{"name":"情缘缘","type":"skill","icon":670,"max":1,"desc":["找到一名情缘。"]},null],[null,null,null,{"name":"寡王","type":"skill","icon":433,"max":1,"desc":["正道的光，母胎solo！"]}]],"日月":[[{"name":"大战","type":"talent","icon":812,"max":5,"desc":["霸王弩，大战随便来四等一！"]},null,null,{"name":"南屏昆仑","type":"talent","icon":8313,"max":5,"desc":["完成威望日常。"]}],[{"name":"迦兰","type":"talent","icon":2103,"max":2,"desc":["腿毛的诱惑。"]},{"name":"莲华","type":"talent","icon":336,"max":2,"desc":["婉清……你听我说。"]},{"name":"云湖","type":"talent","icon":9,"max":2,"desc":["参与战场或插旗。"]},{"name":"烟影","type":"talent","icon":2375,"max":2,"desc":["参与一次千人攻防。"],"pretab":1}],[{"name":"屌丝","type":"talent","icon":8848,"max":1,"desc":["我是一只快乐的小屌丝。"]},{"name":"打工仔","type":"talent","icon":10452,"max":2,"desc":["我是一只快乐的打工仔。"]},{"name":"高级打工仔","type":"talent","icon":10451,"max":3,"desc":["我是一只高级的打工仔。"]},{"name":"壕","type":"talent","icon":2589,"max":4,"desc":["拥有一把橙武。"]}],[{"name":"打桩机","type":"talent","icon":5352,"max":5,"desc":["成为一名地痞艾斯。"]},{"name":"打地鼠","type":"talent","icon":1498,"max":2,"desc":["成为一名奶妈。"]},{"name":"我是MT","type":"talent","icon":646,"max":2,"desc":["成为一名坦克。"]},{"name":"全职高手","type":"talent","icon":415,"max":5,"desc":["精通全职业，成为骨灰玩家。"]}],[{"name":"墨艺","type":"talent","icon":243,"max":4,"desc":["在魔盒发表一篇作品。"],"pretab":1},{"name":"茶艺","type":"talent","icon":105,"max":9,"desc":["学习嘤嘤嘤的正确喊话方式。"],"pretab":1},{"name":"号令三军","type":"skill","icon":2588,"max":1,"desc":["成为一名团长或指挥。"],"pretab":1},{"name":"喷艺","type":"talent","icon":1488,"max":9,"desc":["在贴吧发表一篇818。"]}],[{"name":"宗师","type":"skill","icon":3120,"max":1,"desc":["精通墨艺，成为门派大师兄或门派大师姐。"],"pretab":1},{"name":"倾国倾城","type":"talent","icon":6738,"max":1,"desc":["成为一名团长夫人。"],"pretab":1},null,null],[null,null,null,{"name":"谁与争锋","type":"skill","icon":272,"max":1,"desc":["成为一名优秀的键盘侠。"],"pretab":1}]]},"a":{"total":36,"series_open_need":29}}')},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2");var a=n("06c5");function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(a["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){o=!0,l=t},f:function(){try{r||null==n["return"]||n["return"]()}finally{if(o)throw l}}}}},c7b2:function(t){t.exports=JSON.parse('{"a":{"冰心诀":{"begin":"left","content":[10081,10080],"talent":["拥雪","蝶舞"],"condition":[0,5,10,15,20,25,25],"mutex":[[2733,65189],[2707,65205]]},"云裳心经":{"begin":"right","content":[10081,10080],"talent":["拥雪","蝶舞"],"condition":[0,5,10,15,20,25,25],"mutex":[[2733,65189],[2707,65205]]},"傲血战意":{"begin":"left","content":[10026,10062],"talent":["斩绝","封魂"],"condition":[0,5,10,15,20,25,25],"mutex":[[2611,15158]]},"铁牢律":{"begin":"right","content":[10026,10062],"talent":["斩绝","封魂"],"condition":[0,5,10,15,20,25,25],"mutex":[[2611,15158]]},"花间游":{"begin":"left","content":[10021,10028],"talent":["墨艺","悬壶"],"condition":[0,5,10,15,20,25,25],"mutex":[[2654,14963],[2645,14965]]},"离经易道":{"begin":"right","content":[10021,10028],"talent":["墨艺","悬壶"],"condition":[0,5,10,15,20,25,25],"mutex":[[2654,14963],[2645,14965]]},"太虚剑意":{"begin":"left","content":[10015,10014],"talent":["剑宗","气宗"],"condition":[0,5,10,15,20,25,25],"mutex":[[2699,65187],[2681,65183]]},"紫霞功":{"begin":"right","content":[10015,10014],"talent":["剑宗","气宗"],"condition":[0,5,10,15,20,25,25],"mutex":[[2699,65187],[2681,65183]]},"易筋经":{"begin":"left","content":[10003,10002],"talent":["金刚","明王"],"condition":[0,5,10,15,20,25,25],"mutex":[[2572,15165]]},"洗髓经":{"begin":"right","content":[10003,10002],"talent":["金刚","明王"],"condition":[0,5,10,15,20,25,25],"mutex":[[2572,15165]]},"问水诀":{"begin":"left","content":[10144,10145],"talent":["行舟","枫晚"],"condition":[0,5,10,15,20,25,25],"mutex":[[2750,65199]]},"山居剑意":{"begin":"right","content":[10144,10145],"talent":["行舟","枫晚"],"condition":[0,5,10,15,20,25,25],"mutex":[[2750,65199]]},"毒经":{"begin":"left","content":[10175,10176],"talent":["百蛊","织天"],"condition":[0,5,10,15,20,25,25],"mutex":[[2227,65203],[2965,15132]]},"补天诀":{"begin":"right","content":[10175,10176],"talent":["百蛊","织天"],"condition":[0,5,10,15,20,25,25],"mutex":[[2227,65203],[2965,15132]]},"天罗诡道":{"begin":"right","content":[10224,10225],"talent":["落星","天机"],"condition":[0,5,10,15,20,25,25],"mutex":[[3100,18672],[3111,25121]]},"惊羽诀":{"begin":"left","content":[10224,10225],"talent":["落星","天机"],"condition":[0,5,10,15,20,25,25],"mutex":[[3100,18672],[3111,25121]]},"焚影圣诀":{"begin":"left","content":[10242,10243],"talent":["怒炎","明光"],"condition":[0,5,10,15,20,25,25],"mutex":[[3978,18626]]},"明尊琉璃体":{"begin":"right","content":[10242,10243],"talent":["怒炎","明光"],"condition":[0,5,10,15,20,25,25],"mutex":[[3978,18626]]},"笑尘诀":{"begin":"left","content":[10268],"talent":["笑尘"],"condition":[0,5,10,10,15,20],"mutex":[[65010,65011,65012],[65013,65014,65015]]},"通用":{"begin":"left","content":[0,0],"talent":["山川","日月"],"condition":[0,5,10,15,20,25,25]}}}')},cb29:function(t,e,n){"use strict";var a=n("23e7"),i=n("81d5"),s=n("44d2");a({target:"Array",proto:!0},{fill:i}),s("fill")},cb97:function(t,e){t.exports="data:image/png;base64,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"},e030:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("a9e3");var a=function(){var t=this,e=t._self._c;return e("app-layout",{attrs:{slug:"talent2"}},[e("div",{staticClass:"m-talent m-talent2"},[e("div",{staticClass:"m-talent-header"},[e("h1",{staticClass:"m-talent-title"},[t._v("镇派模拟器")]),e("div",{staticClass:"m-talent-panel"},[e("div",{staticClass:"m-talent-version"},[e("span",{staticClass:"u-label"},[t._v("选择版本")]),e("el-select",{attrs:{placeholder:"请选择游戏版本"},on:{change:t.reload},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versions,(function(t){return e("el-option",{key:t.version,attrs:{label:t.name,value:t.version}})})),1)],1),t.isLogin?e("div",{staticClass:"u-toolbar"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-setting",size:"small"},on:{click:function(e){t.drawer=!0}}},[t._v("我的预设")])],1):t._e()])]),e("div",{staticClass:"m-talent-wrapper"},[e("h2",{staticClass:"m-talent-subtitle"},[t._v("选择心法")]),e("div",{staticClass:"m-talent-xf"},t._l(t.xfMaps,(function(n,a){return e("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.isOrigin(n),expression:"isOrigin(item)"}],key:a,attrs:{label:n.name},on:{change:t.reload},model:{value:t.xf,callback:function(e){t.xf=e},expression:"xf"}},[e("img",{staticClass:"u-pic",attrs:{src:t.xficon(n.id),alt:n.name}}),e("span",{staticClass:"u-txt"},[t._v(t._s(n.name))])])})),1),e("h2",{staticClass:"m-talent-subtitle"},[t._v("配置镇派")]),e("div",{staticClass:"m-talent2-box"},[e("div",{staticClass:"m-talent2-main-title"},[t._v("镇派经脉模拟器")]),t.xf?[e("div",{staticClass:"m-talent2-surplus",class:[t.total-t.totalCount>0?"":"m-talent2-surplus-empty"]},[t._v(" 剩余点数 : "),e("span",[t._v(t._s(t.surplus))])]),e("div",{staticClass:"m-talent2-main"},[e("div",{staticClass:"m-talent2-left"},[e("div",{staticClass:"m-talent2-content",class:{"is-single":t.isSingle},style:{"background-image":t.xf?"url(".concat(t.talentBg("left",1),")"):""}},[e("div",{staticClass:"m-talent2-title"},[e("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t.xficon(t.xfContent[0])}}),e("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.lCount))]),e("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.l_name))])]),t._l(t.talentContent.left,(function(a,i){return e("div",{key:"l"+i,staticClass:"m-talent2-content-row"},[t._l(a,(function(a,s){return[a?e("div",{key:s,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===a.type},t.canOperate(i,"left")?"":"m-talent2-content-item-disabled",a.pretab?"m-talent2-pretab":"",t.isMutex(a,i,s,"left")?"m-talent2-content-item-disabled":""],on:{mouseover:function(e){return t.$set(a,"on",!0)},mouseleave:function(e){return t.$set(a,"on",!1)}}},[e("div",{class:[t.canLeftItemOperate(i,s)?"m-talent2-selected":"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected","skill"===a.type?"":"m-talent2-talent",t.surplus||Number(t.l_data[i][s])?"":"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected",t.isMutex(a,i,s,"left")?"skill"===a.type?"m-talent2-skill-unselected":"m-talent2-unselected":""],on:{click:function(e){return t.leftTalentAdd(a,i,s)},contextmenu:function(e){return e.preventDefault(),t.leftTalentDecrease(i,s,a)}}},[a.pretab&&!t.isLeftParentAdd(i,s)&&t.canLeftItemOperate(i,s)?e("span",{class:"skill"===a.type?"is-add-skill":"is-add"}):t._e(),t.surplus||Number(t.l_data[i][s])?t._e():e("span",{class:"skill"===a.type?"is-add-skill":"is-add"}),e("img",{staticClass:"talent-img",class:{"skill-img":"skill"===a.type},attrs:{src:t.talentIcon(a.icon),alt:a.name}}),t.isMutex(a,i,s,"left")?e("img",{staticClass:"u-mutex-img",attrs:{src:n("cb97"),alt:""}}):t._e()]),Number(t.l_data[i][s])?e("span",{staticClass:"m-talent2-content-item-count",class:[Number(t.l_data[i][s])<a.max?"m-talent2-content-item-count-under":""]},[t._v(" "+t._s(t.l_data[i][s])+" ")]):t._e(),e("span",{staticClass:"m-talent2-pop",class:a.on?"on":""},[e("b",{staticClass:"m-talent2-name"},[e("span",[t._v(" "+t._s(a.name)+" "),a.id?e("small",{staticClass:"u-talent2-id"},[t._v("(ID: "+t._s(a.id)+")")]):t._e()]),e("span",{staticClass:"m-talent2-number"},[t._v(" 第"+t._s(Number(t.l_data[i][s])+"/"+a.max)+"重 ")])]),e("span",{staticClass:"m-talent2-desc",domProps:{innerHTML:t._s(Number(t.l_data[i][s])&&"通用"!==t.xf?a.desc[t.l_data[i][s]-1]:a.desc[0])}}),Number(t.l_data[i][s])&&Number(t.l_data[i][s])<a.max?e("span",{staticClass:"m-talent2-desc-next"},["通用"!==t.xf?e("span",{staticClass:"m-next-text"},[t._v("下一重：")]):t._e(),e("span",[t._v(" "+t._s(a.desc[t.l_data[i][s]])+" ")])]):t._e(),Number(t.l_data[i][s])===a.max?e("span",{staticClass:"m-max"},[t._v("该招式已练至最高境界")]):t._e(),Number(t.l_data[i][s])?e("span",{staticClass:"m-talent-retrogress"},[t._v("右键点击遗忘")]):t._e()])]):e("div",{key:s,staticClass:"m-talent2-content-item-empty"})]}))],2)}))],2)]),t.isSingle?t._e():e("div",{staticClass:"m-talent2-right"},[e("div",{staticClass:"m-talent2-content",style:{"background-image":t.xf?"url(".concat(t.talentBg("right",1),")"):""}},[e("div",{staticClass:"m-talent2-title"},[e("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t.xficon(t.xfContent[1])}}),e("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.rCount))]),e("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.r_name))])]),t._l(t.talentContent.right,(function(n,a){return e("div",{key:"r"+a,staticClass:"m-talent2-content-row"},[t._l(n,(function(n,i){return[n?e("div",{key:i,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===n.type},t.canOperate(a,"right")?"":"m-talent2-content-item-disabled",n.pretab?"m-talent2-pretab":"",t.isMutex(n,a,i,"right")?"m-talent2-content-item-disabled":""],on:{mouseover:function(e){return t.$set(n,"on",!0)},mouseleave:function(e){return t.$set(n,"on",!1)}}},[e("div",{class:[t.canRightItemOperate(a,i)?"m-talent2-selected":"skill"===n.type?"m-talent2-skill-unselected":"m-talent2-unselected","skill"===n.type?"":"m-talent2-talent",t.surplus||Number(t.r_data[a][i])?"":"skill"===n.type?"m-talent2-skill-unselected":"m-talent2-unselected",t.isMutex(n,a,i,"right")?"m-talent2-unselected":""],on:{click:function(e){return t.rightTalentAdd(n,a,i)},contextmenu:function(e){return e.preventDefault(),t.rightTalentDecrease(a,i,n)}}},[n.pretab&&!t.isRightParentAdd(a,i)&&t.canRightItemOperate(a,i)?e("span",{class:"skill"===n.type?"is-add-skill":"is-add"}):t._e(),t.surplus||Number(t.r_data[a][i])?t._e():e("span",{class:"skill"===n.type?"is-add-skill":"is-add"}),e("img",{staticClass:"talent-img",class:{"skill-img":"skill"===n.type},attrs:{src:t.talentIcon(n.icon),alt:n.name}})]),Number(t.r_data[a][i])?e("span",{staticClass:"m-talent2-content-item-count",class:[Number(t.r_data[a][i])<n.max?"m-talent2-content-item-count-under":""]},[t._v(" "+t._s(t.r_data[a][i])+" ")]):t._e(),e("span",{staticClass:"m-talent2-pop",class:n.on?"on":""},[e("b",{staticClass:"m-talent2-name"},[e("span",[t._v(" "+t._s(n.name)+" "),n.id?e("small",{staticClass:"u-talent2-id"},[t._v("(ID: "+t._s(n.id)+")")]):t._e()]),e("span",{staticClass:"m-talent2-number"},[t._v(" 第"+t._s(Number(t.r_data[a][i])+"/"+n.max)+"重 ")])]),e("span",{staticClass:"m-talent2-desc",domProps:{innerHTML:t._s(Number(t.r_data[a][i])&&"通用"!==t.xf?n.desc[t.r_data[a][i]-1]:n.desc[0])}}),Number(t.r_data[a][i])&&Number(t.r_data[a][i])<n.max?e("span",{staticClass:"m-talent2-desc-next"},["通用"!==t.xf?e("span",{staticClass:"m-next-text"},[t._v("下一重：")]):t._e(),e("span",[t._v(" "+t._s(n.desc[t.r_data[a][i]])+" ")])]):t._e(),Number(t.r_data[a][i])===n.max?e("span",{staticClass:"m-max"},[t._v("该招式已练至最高境界")]):t._e(),Number(t.r_data[a][i])?e("span",{staticClass:"m-talent-retrogress"},[t._v("右键点击遗忘")]):t._e()])]):e("div",{key:i,staticClass:"m-talent2-content-item-empty"})]}))],2)}))],2)])]),e("div",{staticClass:"m-talent2-actions",class:{"is-single":t.isSingle}},[e("div",{staticClass:"reset-btn",class:t.totalCount?"m-talent2-actions-btn":"m-talent2-actions-btn-disabled",on:{click:t.reload}},[t._v(" 重置 ")])])]:t._e()],2),e("h2",{staticClass:"m-talent-subtitle"},[t._v("镇派编码")]),e("div",{staticClass:"m-talent-code"},[e("el-input",{attrs:{placeholder:"粘贴编码亦可自动解析奇穴"},on:{change:t.parseSchema},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[e("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(e){return t.copy(t.code)}},slot:"prepend"},[e("i",{staticClass:"el-icon-document-copy"}),t._v(" 点击复制 ")])])],1),t.isAdmin?[e("h2",{staticClass:"m-talent-subtitle"},[t._v("配装编码")]),e("el-input",{attrs:{placeholder:"配装器编码"},model:{value:t.pzcode,callback:function(e){t.pzcode=e},expression:"pzcode"}},[e("span",{staticClass:"u-copy",attrs:{slot:"prepend"},on:{click:function(e){return t.copy(t.pzcode)}},slot:"prepend"},[e("i",{staticClass:"el-icon-document-copy"}),t._v(" 点击复制 ")])])]:t._e(),t.isLogin?e("div",{staticClass:"m-talent-op"},[e("el-button",{attrs:{type:"primary",icon:t.currentSchema?"el-icon-check":"el-icon-document-add"},on:{click:t.save}},[t._v(t._s(t.currentSchema?"保存":"保存为预设"))]),t.isEditing?e("el-button",{staticClass:"u-btn",attrs:{type:"success",icon:"el-icon-document-add",plain:""},on:{click:t.saveAs}},[t._v("另存为")]):t._e()],1):t._e()],2),t.isLogin?e("talent-drawer",{attrs:{drawer:t.drawer,type:"talent2",client:t.client},on:{"update-drawer":t.updateDrawer,use:t.use}}):t._e()],1)])},i=[],s=n("2909"),l=n("5530"),r=n("3835"),o=n("b85c"),c=(n("13d5"),n("d3b7"),n("0481"),n("4069"),n("d81d"),n("a15b"),n("99af"),n("caad"),n("2532"),n("b64b"),n("4de4"),n("e9c4"),n("159b"),n("14d9"),n("fb6a"),n("a434"),n("7db0"),n("cb29"),n("46d4")),u=n("65c2"),d=n("c7b2"),m=n("b2a2"),f=n("c9d2"),h=n("0644"),p=n.n(h),A=n("83e1"),g=n("85e4"),v=n("f71e"),b=n("18c0"),_=n("793d"),x={name:"Talent2",data:function(){return{activeName:"common",xf:"",code:"0",pzcode:"",begin:"left",l_name:"山川",r_name:"日月",version:"",versions:[],talents:{},total:0,l_data:["0000","0000","0000","0000","0000","0000"],r_data:["0000","0000","0000","0000","0000","0000"],series_open_need:0,xfContent:[],talentContent:{left:[],right:[]},condition:[],mutex:[],isLogin:f["a"].isLogin(),isAdmin:!1,showList:!1,drawer:!1,currentShemaName:"",currentSchema:"",isInit:!0}},computed:{isSingle:function(){return!this.talentContent.left||!this.talentContent.right},lCount:function(){return this.l_data.length?this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},rCount:function(){return this.r_data.length?this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},leftLastIndex:function(){for(var t=0,e=this.l_data.length-1;e>0;e--)if(Number(this.l_data[e])){t=e;break}return t},rightLastIndex:function(){for(var t=0,e=this.r_data.length-1;e>0;e--)if(Number(this.r_data[e])){t=e;break}return t},totalCount:function(){return this.lCount+this.rCount},talent2Data:function(){return"left"===this.begin?this.l_data.concat(this.r_data).join(","):this.r_data.concat(this.l_data).join(",")},surplus:function(){return this.total-this.totalCount},client:function(){return location.href.includes("origin")?"origin":"std"},mount:function(){var t;return null===(t=c[this.xf])||void 0===t?void 0:t.id},params:function(){var t=this.mount,e=this.version,n=this.code,a=this.pzcode,i=this.xf;return{client:"origin",type:"talent2",mount:t,version:e,code:JSON.parse(n),pzcode:JSON.parse(a),xf:i}},xfMaps:function(){var t=p()(c);return t},isEditing:function(){return!!this.currentSchema},mutexObj:function(t){var e,n=t.mutex,a={},i=Object(o["a"])(n);try{for(i.s();!(e=i.n()).done;){var s,l=e.value,r=Object(o["a"])(l);try{var c=function(){var t=s.value;a[t]||(a[t]=[]);var e=l.filter((function(e){return e!==t}));a[t]=a[t].concat(e)};for(r.s();!(s=r.n()).done;)c()}catch(u){r.e(u)}finally{r.f()}}}catch(u){i.e(u)}finally{i.f()}return a}},methods:{updateDrawer:function(t){this.drawer=t},getIcon:function(t){return u["__imgPath"]+"image/box/"+t+".svg"},reload:function(t){this.currentSchema=""},reset:function(){},renderCode:function(){var t=this.version,e=this.xf,n=this.talent2Data,a=this.l_data,i=this.r_data,s=this.talentContent,l={version:t,xf:e,sq:n};this.code=JSON.stringify(l);var r=[];a.forEach((function(t,e){var n=t.split("").map((function(t){return parseInt(t)}));n.forEach((function(t,n){if(t){var a=s.left[e][n],i={id:a.id,icon:a.icon,level:t,name:a.name};r.push(i)}}))})),i.forEach((function(t,e){var n=t.split("").map((function(t){return parseInt(t)}));n.forEach((function(t,n){if(t){var a=s.right[e][n],i={id:a.id,icon:a.icon,level:t,name:a.name};r.push(i)}}))})),this.pzcode=JSON.stringify(r)},copy:function(t){Object(v["a"])(t,{success_message:"编码复制成功"})},isOrigin:function(t){return t["client"].includes("origin")},parseSchema:function(){try{var t,e,n,a,i=JSON.parse(this.code);this.version=i.version,this.xf=i.xf;var s=this.xf;this.xfContent=null===(t=d["a"][s])||void 0===t?void 0:t.content,this.begin=null===(e=d["a"][s])||void 0===e?void 0:e.begin,this.talentContent.left=this.talents[d["a"][s].talent[0]],this.l_name=null===(n=d["a"][s])||void 0===n?void 0:n.talent[0],this.talentContent.right=this.talents[d["a"][s].talent[1]],this.r_name=null===(a=d["a"][s])||void 0===a?void 0:a.talent[1];var l=i.sq.split(",");"left"===this.begin?(this.l_data=[].concat(l.slice(0,6)),this.r_data=l.slice(6,l.length)):(this.r_data=l.slice(0,6),this.l_data=l.slice(6,l.length))}catch(r){this.$message.error("编码格式错误")}},canOperate:function(t,e){return"left"===e?this.lCount>=this.condition[t]:this.rCount>=this.condition[t]},canLeftItemOperate:function(t,e){var n=!1;return"left"===this.begin?t?this.lCount>0&&this.lCount>=this.condition[t]&&(n=!0):n=!0:"right"===this.begin&&this.rCount>=this.series_open_need&&this.lCount>=0&&this.lCount>=this.condition[t]&&(n=!0),n},isLeftParentAdd:function(t,e){return Number(this.l_data[t-1][e])},leftTalentAdd:function(t,e,n){if(this.canOperate(e,"left")&&!this.isMutex(t,e,n,"left"))if(null===t||void 0===t||!t.pretab||this.isLeftParentAdd(e,n)){var a=t.max,i=t.parent;if("right"===this.begin&&this.rCount<this.series_open_need)this.$message.warning({message:"主天赋需要先激活".concat(this.series_open_need,"点，才能激活本区域的天赋")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(r["a"])(i,1),l=s[0],o=Number(this.l_data[l.row][l.index]);if(!o)return void this.$message({type:"warning",message:"该天赋存在前置天赋，需先激活前置天赋"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var c=Number(this.l_data[e][n]);if(c<a){c++;var u=this.l_data[e].split("");u[n]=String(c),this.l_data.splice(e,1,u.join("")),t.count=c}else this.$message({type:"warning",message:"该天赋已达最高层数"})}}}else this.$message.warning({message:"要激活该天赋需要先激活对应的上层天赋"})},leftTalentDecrease:function(t,e,n){var a=Number(this.l_data[t][e]);if(a>0){if(t<this.l_data.length-1){var i=0,s=this.l_data.slice(0,t+1),l=this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(i=s.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),i<=this.condition[this.leftLastIndex]&&l>i)return void this.$message.warning({title:"提醒",message:"不能再减啦"})}a--;var r=this.l_data[t].split("");r[e]=String(a),n.count=a,this.l_data.splice(t,1,r.join(""))}},canRightItemOperate:function(t,e){var n=!1;return"right"===this.begin?t?this.rCount>0&&this.rCount>=this.condition[t]&&(n=!0):n=!0:"left"===this.begin&&this.lCount>=this.series_open_need&&this.rCount>=0&&this.rCount>=this.condition[t]&&(n=!0),n},isRightParentAdd:function(t,e){return Number(this.r_data[t-1][e])},rightTalentAdd:function(t,e,n){if(this.canOperate(e,"right")&&!this.isMutex(t,e,n,"right"))if(null===t||void 0===t||!t.pretab||this.isRightParentAdd(e,n)){var a=t.max,i=t.parent;if("left"===this.begin&&this.lCount<this.series_open_need)this.$message.warning({title:"提醒",message:"主天赋需要先激活".concat(this.series_open_need,"点，才能激活本区域的天赋")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(r["a"])(i,1),l=s[0],o=Number(this.r_data[l.row][l.index]);if(!o)return void this.$message({type:"warning",message:"该天赋存在前置天赋，需先激活前置天赋"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var c=Number(this.r_data[e][n]);if(c<a){c++;var u=this.r_data[e].split("");u[n]=String(c),t.count=c,this.r_data.splice(e,1,u.join(""))}else this.$message({type:"warning",message:"该天赋已达最高层数"})}}}else this.$message.warning({message:"要激活该天赋需要先激活对应的上层天赋"})},rightTalentDecrease:function(t,e,n){var a=Number(this.r_data[t][e]);if(a>0){if(t<this.r_data.length-1){var i=0,s=this.r_data.slice(0,t+1),l=this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(i=s.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),i<=this.condition[this.rightLastIndex]&&l>i)return void this.$message.warning({title:"提醒",message:"不能再减啦"})}a--;var r=this.r_data[t].split("");r[e]=String(a),n.count=a,this.r_data.splice(t,1,r.join(""))}},talentBg:function(t,e){if(t)return"left"===t?u["__imgPath"]+"image/talent/".concat(this.xfContent[0],"_").concat(e,".png"):u["__imgPath"]+"image/talent/".concat(this.xfContent[1],"_").concat(e,".png")},getVersions:function(){this.version="v20230912"},getTalents:function(){var t=this;fetch(u["__ossRoot"]+"data/talent2/"+this.version+".json").then((function(t){return t.json()})).then((function(e){t.talents=Object(l["a"])(Object(l["a"])({},e),m["b"]),t.isInit&&(t.xf="通用",t.isInit=!1),t.total=66}))},save:function(){var t=this;this.mount?this.isEditing?Object(A["d"])(this.currentSchema.id,Object(l["a"])({},this.params)).then((function(){t.$notify({type:"success",title:"成功",message:"修改成功"})})):this.$prompt("请输入方案名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValidator:function(t){if(!t)return"输入不能为空"}}).then((function(e){var n=e.value;Object(A["a"])(Object(l["a"])(Object(l["a"])({},t.params),{},{name:n})).then((function(){t.$notify({type:"success",title:"成功",message:"预设方案保存成功"})}))})):this.$notify({type:"warning",title:"提醒",message:"暂未选择心法，请先选择心法"})},saveAs:function(){var t,e=this;this.$prompt("方案另存为","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"输入不能为空",inputValue:null===(t=this.currentSchema)||void 0===t?void 0:t.name,inputValidator:function(t){if(!t)return"输入不能为空"}}).then((function(t){var n=t.value;Object(A["a"])(Object(l["a"])(Object(l["a"])({},e.params),{},{name:n})).then((function(){e.$message({type:"success",message:"方案保存成功"})}))}))},use:function(t){var e=this,n=t.code;this.currentSchema=t,this.xf=n.xf,setTimeout((function(){e.code=JSON.stringify(t.code),e.pzcode=JSON.stringify(t.pzcode),e.parseSchema()}))},talentIcon:function(t){return"通用"==this.xf?Object(g["iconLink"])(t):Object(g["iconLink"])(t,"origin")},xficon:function(t){return u["__imgPath"]+"image/xf/"+t+".png"},isMutex:function(t,e,n,a){var i=this.mutexObj[t.id];if(!i)return!1;var s=this.talentContent[a][e].find((function(t){return null===t||void 0===t?void 0:t.count}));return!!s&&i.includes(s.id)}},watch:{version:function(t){t&&this.getTalents()},xf:{immediate:!0,handler:function(t,e){var n=this;if(t){var a,i,l,r,o,c,u,f,h,p;this.xfContent=null===(a=d["a"][t])||void 0===a?void 0:a.content,this.begin=null===(i=d["a"][t])||void 0===i?void 0:i.begin,this.talentContent.left=null===(l=this.talents[null===(r=d["a"][t].talent)||void 0===r?void 0:r[0]])||void 0===l?void 0:l.map((function(t){var e=t.map((function(t){return t&&(n.$set(t,"on",!1),n.$set(t,"count",0)),t}));return e})),this.l_name=null===(o=d["a"][t])||void 0===o?void 0:o.talent[0];var A=Math.max.apply(Math,Object(s["a"])(this.talentContent.left.map((function(t){return t.length})))),g=this.talentContent.left.length;this.l_data=Array(g).fill(0).map((function(){return Array(A).fill(0).join("")})),this.talentContent.right=null===(c=this.talents[null===(u=d["a"][t].talent)||void 0===u?void 0:u[1]])||void 0===c?void 0:c.map((function(t){var e=t.map((function(t){return t&&(n.$set(t,"on",!1),n.$set(t,"count",0)),t}));return e})),this.r_name=null===(f=d["a"][t])||void 0===f?void 0:f.talent[1],this.r_data=Array(g).fill(0).map((function(){return Array(A).fill(0).join("")})),this.total="通用"===t?66:m["a"].total,this.condition=(null===(h=d["a"][t])||void 0===h?void 0:h.condition)||[0,5,10,15,20,25],this.mutex=(null===(p=d["a"][t])||void 0===p?void 0:p.mutex)||[],this.renderCode()}}},talent2Data:function(){this.renderCode()}},mounted:function(){this.getVersions(),this.series_open_need=m["a"].series_open_need,this.isAdmin=f["a"].isAdmin()},components:{talentDrawer:b["a"],AppLayout:_["a"]}},C=x,y=(n("3b95"),n("2877")),k=Object(y["a"])(C,a,i,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-584f0289.3dd84d33.js.map